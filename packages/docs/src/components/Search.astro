---
---

<script>
  import { RegisterSearchBox, RegisterSearchButton } from "@orama/searchbox";
  import "@orama/searchbox/dist/index.css";
  import { getOramaDB } from "../../plugins/client";

  try {
    const userTheme = localStorage.getItem("starlight-theme");
    const colorTheme = {
      colorScheme: userTheme !== "auto" ? userTheme : "system",
    };
    const client = await getOramaDB("docs");
    RegisterSearchBox({
      oramaInstance: client,
      backdrop: true,
      ...colorTheme,
      resultsMap: {
        description: "content",
      },
      setResultTitle: (doc) => doc.title.split("| Orama Docs")[0],
    });

    RegisterSearchButton(colorTheme);
  } catch (error) {
    console.log(error);
  }
</script>

<div>
  <orama-searchbox></orama-searchbox>
  <orama-search-button></orama-search-button>
</div>

<style></style>
